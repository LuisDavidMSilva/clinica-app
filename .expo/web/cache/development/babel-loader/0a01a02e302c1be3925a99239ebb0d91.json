{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"variant\", \"label\", \"leading\", \"trailing\", \"color\", \"helperText\", \"onMouseEnter\", \"onMouseLeave\", \"style\", \"inputContainerStyle\", \"inputStyle\", \"leadingContainerStyle\", \"trailingContainerStyle\", \"placeholder\", \"onFocus\", \"onBlur\"];\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport RNTextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"./Text\";\nimport { usePaletteColor } from \"./hooks/use-palette-color\";\nimport { useTheme } from \"./base/ThemeContext\";\nimport { useSurfaceScale } from \"./hooks/use-surface-scale\";\nimport { useStyles } from \"./hooks/use-styles\";\nvar TextInput = React.forwardRef(function (_ref, ref) {\n  var _theme$typography$sub;\n\n  var _ref$variant = _ref.variant,\n      variant = _ref$variant === void 0 ? 'filled' : _ref$variant,\n      label = _ref.label,\n      leading = _ref.leading,\n      trailing = _ref.trailing,\n      _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'primary' : _ref$color,\n      helperText = _ref.helperText,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave,\n      style = _ref.style,\n      inputContainerStyle = _ref.inputContainerStyle,\n      inputStyle = _ref.inputStyle,\n      leadingContainerStyle = _ref.leadingContainerStyle,\n      trailingContainerStyle = _ref.trailingContainerStyle,\n      placeholder = _ref.placeholder,\n      onFocus = _ref.onFocus,\n      onBlur = _ref.onBlur,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var theme = useTheme();\n  var surfaceScale = useSurfaceScale();\n  var palette = usePaletteColor(color);\n  var leadingNode = typeof leading === 'function' ? leading({\n    color: surfaceScale(0.62).hex(),\n    size: 24\n  }) : leading;\n  var trailingNode = typeof trailing === 'function' ? trailing({\n    color: surfaceScale(0.62).hex(),\n    size: 24\n  }) : trailing;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      hovered = _useState2[0],\n      setHovered = _useState2[1];\n\n  var handleMouseEnter = useCallback(function (event) {\n    onMouseEnter === null || onMouseEnter === void 0 ? void 0 : onMouseEnter(event);\n    setHovered(true);\n  }, [onMouseEnter]);\n  var handleMouseLeave = useCallback(function (event) {\n    onMouseLeave === null || onMouseLeave === void 0 ? void 0 : onMouseLeave(event);\n    setHovered(false);\n  }, [onMouseLeave]);\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      focused = _useState4[0],\n      setFocused = _useState4[1];\n\n  var handleFocus = useCallback(function (event) {\n    onFocus === null || onFocus === void 0 ? void 0 : onFocus(event);\n    setFocused(true);\n  }, [onFocus]);\n  var handleBlur = useCallback(function (event) {\n    onBlur === null || onBlur === void 0 ? void 0 : onBlur(event);\n    setFocused(false);\n  }, [onBlur]);\n  var focusAnimation = useMemo(function () {\n    return new Animated.Value(0);\n  }, []);\n  useEffect(function () {\n    Animated.timing(focusAnimation, {\n      toValue: focused ? 1 : 0,\n      duration: 200,\n      easing: Easing.out(Easing.ease),\n      useNativeDriver: false\n    }).start();\n  }, [focused]);\n  var active = useMemo(function () {\n    var _rest$value;\n\n    return focused || (((_rest$value = rest.value) === null || _rest$value === void 0 ? void 0 : _rest$value.length) || 0) > 0;\n  }, [focused, rest.value]);\n  var activeAnimation = useMemo(function () {\n    return new Animated.Value(active ? 1 : 0);\n  }, []);\n  useEffect(function () {\n    Animated.timing(activeAnimation, {\n      toValue: active ? 1 : 0,\n      duration: 200,\n      easing: Easing.out(Easing.ease),\n      useNativeDriver: false\n    }).start();\n  }, [active]);\n  var styles = useStyles(function () {\n    return {\n      inputContainer: {\n        flexDirection: 'row',\n        backgroundColor: variant === 'filled' ? focused ? surfaceScale(0.14).hex() : hovered ? surfaceScale(0.08).hex() : surfaceScale(0.04).hex() : variant === 'outlined' ? surfaceScale(0).hex() : undefined\n      },\n      input: {\n        flex: 1,\n        minHeight: variant === 'standard' ? 48 : 56,\n        paddingStart: leadingNode ? 12 : variant === 'standard' ? 0 : 16,\n        paddingEnd: trailingNode ? 12 : variant === 'standard' ? 0 : 16,\n        color: surfaceScale(0.87).hex()\n      },\n      leading: {\n        justifyContent: 'center',\n        alignItems: 'center',\n        width: 24,\n        height: 24,\n        marginStart: variant === 'standard' ? 0 : 12,\n        marginVertical: variant === 'standard' ? 12 : 16\n      },\n      trailing: {\n        justifyContent: 'center',\n        alignItems: 'center',\n        width: 24,\n        height: 24,\n        marginEnd: variant === 'standard' ? 0 : 12,\n        marginVertical: variant === 'standard' ? 12 : 16\n      },\n      underline: {\n        position: 'absolute',\n        start: 0,\n        end: 0,\n        bottom: 0,\n        height: 1,\n        backgroundColor: hovered ? surfaceScale(0.87).hex() : surfaceScale(0.42).hex()\n      },\n      underlineFocused: {\n        position: 'absolute',\n        start: 0,\n        end: 0,\n        bottom: 0,\n        height: 2,\n        backgroundColor: palette.main\n      },\n      outline: {\n        borderWidth: focused ? 2 : 1,\n        borderColor: focused ? palette.main : hovered ? surfaceScale(0.87).hex() : surfaceScale(0.42).hex()\n      },\n      outlineLabelGap: {\n        position: 'absolute',\n        top: 0,\n        start: -4,\n        end: -4,\n        height: focused ? 2 : 1,\n        backgroundColor: surfaceScale(0).hex()\n      },\n      labelContainer: {\n        justifyContent: 'center',\n        position: 'absolute',\n        top: 0,\n        start: variant === 'standard' ? leadingNode ? 36 : 0 : leadingNode ? 48 : 16,\n        height: variant === 'standard' ? 48 : 56\n      },\n      helperText: {\n        color: surfaceScale(0.6).hex()\n      }\n    };\n  }, [palette.main, surfaceScale, !!leadingNode, !!trailingNode, variant, focused, hovered]);\n  return React.createElement(View, {\n    style: [style]\n  }, React.createElement(View, {\n    style: [styles.inputContainer, variant !== 'standard' && theme.shapes.medium, variant === 'filled' && {\n      borderBottomStartRadius: 0,\n      borderBottomEndRadius: 0\n    }, inputContainerStyle]\n  }, leadingNode && React.createElement(View, {\n    style: [styles.leading, leadingContainerStyle]\n  }, leadingNode), React.createElement(RNTextInput, _extends({\n    ref: ref,\n    style: [styles.input, theme.typography.subtitle1, {\n      paddingTop: variant === 'filled' && label ? 18 : 0\n    }, inputStyle],\n    placeholder: label ? focused ? placeholder : undefined : placeholder,\n    selectionColor: palette.main,\n    placeholderTextColor: surfaceScale(0.4).hex(),\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave\n  }, rest)), trailingNode && React.createElement(View, {\n    style: [styles.trailing, trailingContainerStyle]\n  }, trailingNode), (variant === 'filled' || variant === 'standard') && React.createElement(React.Fragment, null, React.createElement(View, {\n    style: [styles.underline],\n    pointerEvents: \"none\"\n  }), React.createElement(Animated.View, {\n    style: [styles.underlineFocused, {\n      transform: [{\n        scaleX: focusAnimation\n      }]\n    }],\n    pointerEvents: \"none\"\n  })), variant === 'outlined' && React.createElement(View, {\n    style: [StyleSheet.absoluteFill, theme.shapes.medium, styles.outline],\n    pointerEvents: \"none\"\n  }), label && React.createElement(View, {\n    style: [styles.labelContainer],\n    pointerEvents: \"none\"\n  }, variant === 'outlined' && React.createElement(Animated.View, {\n    style: [styles.outlineLabelGap, {\n      transform: [{\n        scaleX: activeAnimation\n      }]\n    }]\n  }), React.createElement(Animated.Text, {\n    style: [theme.typography.subtitle1, {\n      color: focusAnimation.interpolate({\n        inputRange: [0, 1],\n        outputRange: [surfaceScale(0.87).hex(), palette.main]\n      }),\n      fontSize: activeAnimation.interpolate({\n        inputRange: [0, 1],\n        outputRange: [(_theme$typography$sub = theme.typography.subtitle1.fontSize) !== null && _theme$typography$sub !== void 0 ? _theme$typography$sub : 16, 12]\n      }),\n      transform: [{\n        translateY: activeAnimation.interpolate({\n          inputRange: [0, 1],\n          outputRange: [0, variant === 'filled' ? -12 : variant === 'outlined' ? -28 : -24]\n        })\n      }]\n    }]\n  }, label))), React.createElement(View, {\n    style: {\n      marginTop: 4,\n      marginHorizontal: 16\n    }\n  }, helperText && React.createElement(Text, {\n    variant: \"body2\",\n    style: [styles.helperText]\n  }, helperText)));\n});\nexport default TextInput;","map":{"version":3,"sources":["TextInput.tsx"],"names":["TextInput","variant","color","rest","theme","useTheme","surfaceScale","useSurfaceScale","palette","usePaletteColor","leadingNode","leading","size","trailingNode","trailing","useState","handleMouseEnter","useCallback","event","onMouseEnter","setHovered","handleMouseLeave","onMouseLeave","handleFocus","onFocus","setFocused","handleBlur","onBlur","focusAnimation","useMemo","Animated","useEffect","toValue","focused","duration","easing","Easing","useNativeDriver","active","activeAnimation","styles","useStyles","inputContainer","flexDirection","backgroundColor","hovered","undefined","input","flex","minHeight","paddingStart","paddingEnd","justifyContent","alignItems","width","height","marginStart","marginVertical","marginEnd","underline","position","start","end","bottom","underlineFocused","main","outline","borderWidth","borderColor","outlineLabelGap","top","labelContainer","helperText","borderBottomStartRadius","borderBottomEndRadius","paddingTop","label","transform","scaleX","StyleSheet","inputRange","outputRange","fontSize","translateY","marginTop","marginHorizontal"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport {\n  Animated,\n  Easing,\n  NativeSyntheticEvent,\n  StyleProp,\n  StyleSheet,\n  TargetedEvent,\n  TextInput as RNTextInput,\n  TextInputFocusEventData,\n  TextInputProps as RNTextInputProps,\n  View,\n  ViewStyle,\n} from 'react-native';\nimport Text from './Text';\nimport { Color, usePaletteColor } from './hooks/use-palette-color';\nimport { useTheme } from './base/ThemeContext';\nimport { useSurfaceScale } from './hooks/use-surface-scale';\nimport { useStyles } from './hooks/use-styles';\n\nexport interface TextInputProps extends RNTextInputProps {\n  /**\n   * The variant to use.\n   *\n   * @default \"filled\"\n   */\n  variant?: 'filled' | 'outlined' | 'standard';\n\n  /**\n   * The label to display.\n   */\n  label?: string;\n\n  /**\n   * The element placed before the text input.\n   */\n  leading?: React.ReactNode | ((props: { color: string; size: number }) => React.ReactNode | null) | null;\n\n  /**\n   * The element placed after the text input.\n   */\n  trailing?: React.ReactNode | ((props: { color: string; size: number }) => React.ReactNode | null) | null;\n\n  /**\n   * The color of the text input's content (e.g. label, icons, selection).\n   *\n   * @default \"primary\"\n   */\n  color?: Color;\n\n  /**\n   * The helper text to display.\n   */\n  helperText?: string;\n\n  /**\n   * Callback function to call when user moves pointer over the input.\n   */\n  onMouseEnter?: (event: NativeSyntheticEvent<TargetedEvent>) => void;\n\n  /**\n   * Callback function to call when user moves pointer away from the input.\n   */\n  onMouseLeave?: (event: NativeSyntheticEvent<TargetedEvent>) => void;\n\n  /**\n   * The style of the container view.\n   */\n  style?: StyleProp<ViewStyle>;\n\n  /**\n   * The style of the text input container view.\n   */\n  inputContainerStyle?: StyleProp<ViewStyle>;\n\n  /**\n   * The style of the text input.\n   */\n  inputStyle?: RNTextInputProps['style'];\n\n  /**\n   * The style of the text input's leading element container.\n   */\n  leadingContainerStyle?: StyleProp<ViewStyle>;\n\n  /**\n   * The style of the text input's trailing element container.\n   */\n  trailingContainerStyle?: StyleProp<ViewStyle>;\n}\n\nconst TextInput: React.FC<TextInputProps> = React.forwardRef(\n  (\n    {\n      variant = 'filled',\n      label,\n      leading,\n      trailing,\n      color = 'primary',\n      helperText,\n      onMouseEnter,\n      onMouseLeave,\n      style,\n      inputContainerStyle,\n      inputStyle,\n      leadingContainerStyle,\n      trailingContainerStyle,\n\n      placeholder,\n      onFocus,\n      onBlur,\n      ...rest\n    },\n    ref\n  ) => {\n    const theme = useTheme();\n\n    const surfaceScale = useSurfaceScale();\n\n    const palette = usePaletteColor(color);\n\n    const leadingNode =\n      typeof leading === 'function' ? leading({ color: surfaceScale(0.62).hex(), size: 24 }) : leading;\n\n    const trailingNode =\n      typeof trailing === 'function'\n        ? trailing({\n            color: surfaceScale(0.62).hex(),\n            size: 24,\n          })\n        : trailing;\n\n    const [hovered, setHovered] = useState(false);\n\n    const handleMouseEnter = useCallback(\n      (event: NativeSyntheticEvent<TargetedEvent>) => {\n        onMouseEnter?.(event);\n        setHovered(true);\n      },\n      [onMouseEnter]\n    );\n\n    const handleMouseLeave = useCallback(\n      (event: NativeSyntheticEvent<TargetedEvent>) => {\n        onMouseLeave?.(event);\n        setHovered(false);\n      },\n      [onMouseLeave]\n    );\n\n    const [focused, setFocused] = useState(false);\n\n    const handleFocus = useCallback(\n      (event: NativeSyntheticEvent<TextInputFocusEventData>) => {\n        onFocus?.(event);\n        setFocused(true);\n      },\n      [onFocus]\n    );\n\n    const handleBlur = useCallback(\n      (event: NativeSyntheticEvent<TextInputFocusEventData>) => {\n        onBlur?.(event);\n        setFocused(false);\n      },\n      [onBlur]\n    );\n\n    const focusAnimation = useMemo(() => new Animated.Value(0), []);\n\n    useEffect(() => {\n      Animated.timing(focusAnimation, {\n        toValue: focused ? 1 : 0,\n        duration: 200,\n        easing: Easing.out(Easing.ease),\n        useNativeDriver: false,\n      }).start();\n    }, [focused]);\n\n    const active = useMemo(() => focused || (rest.value?.length || 0) > 0, [focused, rest.value]);\n\n    const activeAnimation = useMemo(() => new Animated.Value(active ? 1 : 0), []);\n\n    useEffect(() => {\n      Animated.timing(activeAnimation, {\n        toValue: active ? 1 : 0,\n        duration: 200,\n        easing: Easing.out(Easing.ease),\n        useNativeDriver: false,\n      }).start();\n    }, [active]);\n\n    const styles = useStyles(\n      () => ({\n        inputContainer: {\n          flexDirection: 'row',\n          backgroundColor:\n            variant === 'filled'\n              ? focused\n                ? surfaceScale(0.14).hex()\n                : hovered\n                ? surfaceScale(0.08).hex()\n                : surfaceScale(0.04).hex()\n              : variant === 'outlined'\n              ? surfaceScale(0).hex()\n              : undefined,\n        },\n        input: {\n          flex: 1,\n          minHeight: variant === 'standard' ? 48 : 56,\n          paddingStart: leadingNode ? 12 : variant === 'standard' ? 0 : 16,\n          paddingEnd: trailingNode ? 12 : variant === 'standard' ? 0 : 16,\n          color: surfaceScale(0.87).hex(),\n        },\n        leading: {\n          justifyContent: 'center',\n          alignItems: 'center',\n          width: 24,\n          height: 24,\n          marginStart: variant === 'standard' ? 0 : 12,\n          marginVertical: variant === 'standard' ? 12 : 16,\n        },\n        trailing: {\n          justifyContent: 'center',\n          alignItems: 'center',\n          width: 24,\n          height: 24,\n          marginEnd: variant === 'standard' ? 0 : 12,\n          marginVertical: variant === 'standard' ? 12 : 16,\n        },\n        underline: {\n          position: 'absolute',\n          start: 0,\n          end: 0,\n          bottom: 0,\n          height: 1,\n          backgroundColor: hovered ? surfaceScale(0.87).hex() : surfaceScale(0.42).hex(),\n        },\n        underlineFocused: {\n          position: 'absolute',\n          start: 0,\n          end: 0,\n          bottom: 0,\n          height: 2,\n          backgroundColor: palette.main,\n        },\n        outline: {\n          borderWidth: focused ? 2 : 1,\n          borderColor: focused ? palette.main : hovered ? surfaceScale(0.87).hex() : surfaceScale(0.42).hex(),\n        },\n        outlineLabelGap: {\n          position: 'absolute',\n          top: 0,\n          start: -4,\n          end: -4,\n          height: focused ? 2 : 1,\n          backgroundColor: surfaceScale(0).hex(),\n        },\n        labelContainer: {\n          justifyContent: 'center',\n          position: 'absolute',\n          top: 0,\n          start: variant === 'standard' ? (leadingNode ? 36 : 0) : leadingNode ? 48 : 16,\n          height: variant === 'standard' ? 48 : 56,\n        },\n        helperText: {\n          color: surfaceScale(0.6).hex(),\n        },\n      }),\n      [palette.main, surfaceScale, !!leadingNode, !!trailingNode, variant, focused, hovered]\n    );\n\n    return (\n      <View style={[style]}>\n        <View\n          style={[\n            styles.inputContainer,\n            variant !== 'standard' && theme.shapes.medium,\n            variant === 'filled' && { borderBottomStartRadius: 0, borderBottomEndRadius: 0 },\n            inputContainerStyle,\n          ]}\n        >\n          {leadingNode && <View style={[styles.leading, leadingContainerStyle]}>{leadingNode}</View>}\n\n          <RNTextInput\n            ref={ref}\n            style={[\n              styles.input,\n              theme.typography.subtitle1,\n              { paddingTop: variant === 'filled' && label ? 18 : 0 },\n              inputStyle,\n            ]}\n            placeholder={label ? (focused ? placeholder : undefined) : placeholder}\n            selectionColor={palette.main}\n            placeholderTextColor={surfaceScale(0.4).hex()}\n            onFocus={handleFocus}\n            onBlur={handleBlur}\n            {...({ onMouseEnter: handleMouseEnter, onMouseLeave: handleMouseLeave, ...rest } as any)}\n          />\n\n          {trailingNode && <View style={[styles.trailing, trailingContainerStyle]}>{trailingNode}</View>}\n\n          {(variant === 'filled' || variant === 'standard') && (\n            <>\n              <View style={[styles.underline]} pointerEvents=\"none\" />\n              <Animated.View\n                style={[styles.underlineFocused, { transform: [{ scaleX: focusAnimation }] }]}\n                pointerEvents=\"none\"\n              />\n            </>\n          )}\n\n          {variant === 'outlined' && (\n            <View style={[StyleSheet.absoluteFill, theme.shapes.medium, styles.outline]} pointerEvents=\"none\" />\n          )}\n\n          {label && (\n            <View style={[styles.labelContainer]} pointerEvents=\"none\">\n              {variant === 'outlined' && (\n                <Animated.View style={[styles.outlineLabelGap, { transform: [{ scaleX: activeAnimation }] }]} />\n              )}\n              <Animated.Text\n                style={[\n                  theme.typography.subtitle1,\n                  {\n                    color: focusAnimation.interpolate({\n                      inputRange: [0, 1],\n                      outputRange: [surfaceScale(0.87).hex(), palette.main],\n                    }),\n                    fontSize: activeAnimation.interpolate({\n                      inputRange: [0, 1],\n                      outputRange: [theme.typography.subtitle1.fontSize ?? 16, 12],\n                    }),\n                    transform: [\n                      {\n                        translateY: activeAnimation.interpolate({\n                          inputRange: [0, 1],\n                          outputRange: [0, variant === 'filled' ? -12 : variant === 'outlined' ? -28 : -24],\n                        }),\n                      },\n                    ],\n                  },\n                ]}\n              >\n                {label}\n              </Animated.Text>\n            </View>\n          )}\n        </View>\n        <View style={{ marginTop: 4, marginHorizontal: 16 }}>\n          {helperText && (\n            <Text variant=\"body2\" style={[styles.helperText]}>\n              {helperText}\n            </Text>\n          )}\n        </View>\n      </View>\n    );\n  }\n);\n\nexport default TextInput;\n"]},"metadata":{},"sourceType":"module"}